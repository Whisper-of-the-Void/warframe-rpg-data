<!DOCTYPE html>
<html>
<head>
    <title>Test Forum Access</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        button { padding: 10px 20px; margin: 10px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>üîß –¢–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–æ—Ä—É–º—É</h1>
    
    <div id="results">
        <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∞—à–µ–º—É —Ñ–æ—Ä—É–º—É</p>
    </div>

    <button onclick="testForumAccess()">üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø</button>
    <button onclick="testMemberlist()">üë• –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</button>

    <script>
        async function testForumAccess() {
            const results = document.getElementById('results');
            results.innerHTML = '<p>üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ä—É–º—É...</p>';

            try {
                // –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ—Å—Ç—É–ø
                const response = await fetch('https://rusff.me/');
                if (response.ok) {
                    results.innerHTML = `
                        <div class="test-result success">
                            ‚úÖ –§–æ—Ä—É–º –¥–æ—Å—Ç—É–ø–µ–Ω! –°—Ç–∞—Ç—É—Å: ${response.status}
                        </div>
                    `;
                } else {
                    results.innerHTML = `
                        <div class="test-result error">
                            ‚ùå –§–æ—Ä—É–º –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –°—Ç–∞—Ç—É—Å: ${response.status}
                        </div>
                    `;
                }
            } catch (error) {
                results.innerHTML = `
                    <div class="test-result error">
                        ‚ùå –û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞: ${error.message}
                    </div>
                `;
            }
        }

        async function testMemberlist() {
            const results = document.getElementById('results');
            results.innerHTML = '<p>üîç –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</p>';

            try {
                const response = await fetch('https://rusff.me/memberlist.php');
                const html = await response.text();
                
                // –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // –ò—â–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä –ø–æ–¥ –≤–∞—à —Ñ–æ—Ä—É–º)
                const tables = doc.querySelectorAll('table');
                let foundTable = false;
                let userCount = 0;

                tables.forEach((table, index) => {
                    const text = table.textContent;
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                    if (text.includes('–ò–º—è') && text.includes('–°–æ–æ–±—â–µ–Ω–∏–π')) {
                        foundTable = true;
                        const rows = table.querySelectorAll('tr');
                        userCount = rows.length - 1; // –º–∏–Ω—É—Å –∑–∞–≥–æ–ª–æ–≤–æ–∫
                        
                        results.innerHTML += `
                            <div class="test-result success">
                                ‚úÖ –ù–∞–π–¥–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (#${index})<br>
                                üìä –°—Ç—Ä–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${userCount}<br>
                                üè∑Ô∏è –ó–∞–≥–æ–ª–æ–≤–∫–∏: ${Array.from(rows[0].querySelectorAll('th, td')).map(cell => cell.textContent.trim()).join(' | ')}
                            </div>
                        `;
                    }
                });

                if (!foundTable) {
                    results.innerHTML += `
                        <div class="test-result error">
                            ‚ùå –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–∞<br>
                            üîç –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã: ${tables.length}
                        </div>
                    `;
                }

            } catch (error) {
                results.innerHTML = `
                    <div class="test-result error">
                        ‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${error.message}
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
